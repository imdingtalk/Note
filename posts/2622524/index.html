<!doctype html><html lang=en-us><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge,chrome=1"><title>aria2c 不限速下载服务配置 RPC | snoopy</title><meta name=viewport content="width=device-width,minimum-scale=1"><meta name=description content="介绍 aria2是一个轻量级的多协议和多源，跨平台下载实用程序，在命令行中运行。它支持HTTP / HTTPS，FTP，SFTP，BitTorrent和Metalink。https://aria2.github.io/ 安装和使用 安装 在epel源有打包好的包可以直接安装
yum install aria2 -y 使用 Download from WEB: $ aria2c http://example.org/mylinux.iso Download from 2 sources: $ aria2c http://a/f.iso ftp://b/f.iso Download using 2 connections per host: $ aria2c -x2 http://a/f.iso BitTorrent: $ aria2c http://example.org/mylinux.torrent BitTorrent Magnet URI: $ aria2c 'magnet:?xt=urn:btih:248D0A1CD08284299DE78D5C1ED359BB46717D8C' Metalink: $ aria2c http://example.org/mylinux.metalink Download URIs found in text file: $ aria2c -i uris.txt RPC的用法 使用rpc的方式可以扩展该下载工具为专用下载工具，可以被其他的下载软件调用，如 pandownload创建新的配置文件 vim ~/.aria2/aria2.conf ## '#'开头为注释内容, 选项都有相应的注释说明, 根据需要修改 ## ## 被注释的选项填写的是默认值, 建议在需要修改时再取消注释 ## ## 文件保存相关 ## # 文件的保存路径(可使用绝对路径或相对路径), 默认: 当前启动位置 dir=~/downloads # 启用磁盘缓存, 0为禁用缓存, 需1."><meta name=generator content="Hugo 0.83.1"><meta name=ROBOTS content="NOINDEX, NOFOLLOW"><link rel=stylesheet href=/dingtalk.pub/ananke/dist/main.css_5c99d70a7725bacd4c701e995b969fea.css><meta property="og:title" content="aria2c 不限速下载服务配置 RPC"><meta property="og:description" content="介绍 aria2是一个轻量级的多协议和多源，跨平台下载实用程序，在命令行中运行。它支持HTTP / HTTPS，FTP，SFTP，BitTorrent和Metalink。https://aria2.github.io/ 安装和使用 安装 在epel源有打包好的包可以直接安装
yum install aria2 -y 使用 Download from WEB: $ aria2c http://example.org/mylinux.iso Download from 2 sources: $ aria2c http://a/f.iso ftp://b/f.iso Download using 2 connections per host: $ aria2c -x2 http://a/f.iso BitTorrent: $ aria2c http://example.org/mylinux.torrent BitTorrent Magnet URI: $ aria2c 'magnet:?xt=urn:btih:248D0A1CD08284299DE78D5C1ED359BB46717D8C' Metalink: $ aria2c http://example.org/mylinux.metalink Download URIs found in text file: $ aria2c -i uris.txt RPC的用法 使用rpc的方式可以扩展该下载工具为专用下载工具，可以被其他的下载软件调用，如 pandownload创建新的配置文件 vim ~/.aria2/aria2.conf ## '#'开头为注释内容, 选项都有相应的注释说明, 根据需要修改 ## ## 被注释的选项填写的是默认值, 建议在需要修改时再取消注释 ## ## 文件保存相关 ## # 文件的保存路径(可使用绝对路径或相对路径), 默认: 当前启动位置 dir=~/downloads # 启用磁盘缓存, 0为禁用缓存, 需1."><meta property="og:type" content="article"><meta property="og:url" content="dingtalk.pub/posts/2622524/"><meta property="article:section" content="posts"><meta property="article:published_time" content="2019-09-16T07:28:28+00:00"><meta property="article:modified_time" content="2019-09-16T07:28:28+00:00"><meta itemprop=name content="aria2c 不限速下载服务配置 RPC"><meta itemprop=description content="介绍 aria2是一个轻量级的多协议和多源，跨平台下载实用程序，在命令行中运行。它支持HTTP / HTTPS，FTP，SFTP，BitTorrent和Metalink。https://aria2.github.io/ 安装和使用 安装 在epel源有打包好的包可以直接安装
yum install aria2 -y 使用 Download from WEB: $ aria2c http://example.org/mylinux.iso Download from 2 sources: $ aria2c http://a/f.iso ftp://b/f.iso Download using 2 connections per host: $ aria2c -x2 http://a/f.iso BitTorrent: $ aria2c http://example.org/mylinux.torrent BitTorrent Magnet URI: $ aria2c 'magnet:?xt=urn:btih:248D0A1CD08284299DE78D5C1ED359BB46717D8C' Metalink: $ aria2c http://example.org/mylinux.metalink Download URIs found in text file: $ aria2c -i uris.txt RPC的用法 使用rpc的方式可以扩展该下载工具为专用下载工具，可以被其他的下载软件调用，如 pandownload创建新的配置文件 vim ~/.aria2/aria2.conf ## '#'开头为注释内容, 选项都有相应的注释说明, 根据需要修改 ## ## 被注释的选项填写的是默认值, 建议在需要修改时再取消注释 ## ## 文件保存相关 ## # 文件的保存路径(可使用绝对路径或相对路径), 默认: 当前启动位置 dir=~/downloads # 启用磁盘缓存, 0为禁用缓存, 需1."><meta itemprop=datePublished content="2019-09-16T07:28:28+00:00"><meta itemprop=dateModified content="2019-09-16T07:28:28+00:00"><meta itemprop=wordCount content="359"><meta itemprop=keywords content><meta name=twitter:card content="summary"><meta name=twitter:title content="aria2c 不限速下载服务配置 RPC"><meta name=twitter:description content="介绍 aria2是一个轻量级的多协议和多源，跨平台下载实用程序，在命令行中运行。它支持HTTP / HTTPS，FTP，SFTP，BitTorrent和Metalink。https://aria2.github.io/ 安装和使用 安装 在epel源有打包好的包可以直接安装
yum install aria2 -y 使用 Download from WEB: $ aria2c http://example.org/mylinux.iso Download from 2 sources: $ aria2c http://a/f.iso ftp://b/f.iso Download using 2 connections per host: $ aria2c -x2 http://a/f.iso BitTorrent: $ aria2c http://example.org/mylinux.torrent BitTorrent Magnet URI: $ aria2c 'magnet:?xt=urn:btih:248D0A1CD08284299DE78D5C1ED359BB46717D8C' Metalink: $ aria2c http://example.org/mylinux.metalink Download URIs found in text file: $ aria2c -i uris.txt RPC的用法 使用rpc的方式可以扩展该下载工具为专用下载工具，可以被其他的下载软件调用，如 pandownload创建新的配置文件 vim ~/.aria2/aria2.conf ## '#'开头为注释内容, 选项都有相应的注释说明, 根据需要修改 ## ## 被注释的选项填写的是默认值, 建议在需要修改时再取消注释 ## ## 文件保存相关 ## # 文件的保存路径(可使用绝对路径或相对路径), 默认: 当前启动位置 dir=~/downloads # 启用磁盘缓存, 0为禁用缓存, 需1."></head><body class="ma0 avenir bg-near-white"><header><div class=bg-black><nav class="pv3 ph3 ph4-ns" role=navigation><div class="flex-l justify-between items-center center"><a href=dingtalk.pub/ class="f3 fw2 hover-white no-underline white-90 dib">snoopy</a><div class="flex-l items-center"></div></div></nav></div></header><main class=pb7 role=main><article class="flex-l flex-wrap justify-between mw8 center ph3"><header class="mt4 w-100"><aside class="instapaper_ignoref b helvetica tracked">POSTS</aside><div id=sharing class=mt3><a href="https://www.facebook.com/sharer.php?u=dingtalk.pub/dingtalk.pub/posts/2622524/" class="facebook no-underline" aria-label="share on Facebook"><svg height="32" style="enable-background:new 0 0 67 67" viewBox="0 0 67 67" width="32" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M28.765 50.32h6.744V33.998h4.499l.596-5.624h-5.095l.007-2.816c0-1.466.14-2.253 2.244-2.253h2.812V17.68h-4.5c-5.405.0-7.307 2.729-7.307 7.317v3.377h-3.369v5.625h3.369V50.32zM33 64C16.432 64 3 50.569 3 34S16.432 4 33 4s30 13.431 30 30S49.568 64 33 64z" style="fill-rule:evenodd;clip-rule:evenodd"/></svg></a><a href="https://twitter.com/share?url=dingtalk.pub/dingtalk.pub/posts/2622524/&text=aria2c%20%e4%b8%8d%e9%99%90%e9%80%9f%e4%b8%8b%e8%bd%bd%e6%9c%8d%e5%8a%a1%e9%85%8d%e7%bd%ae%20RPC" class="twitter no-underline" aria-label="share on Twitter"><svg height="32" style="enable-background:new 0 0 67 67" viewBox="0 0 67 67" width="32" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M37.167 22.283c-2.619.953-4.274 3.411-4.086 6.101l.063 1.038-1.048-.127c-3.813-.487-7.145-2.139-9.974-4.915l-1.383-1.377-.356 1.017c-.754 2.267-.272 4.661 1.299 6.271.838.89.649 1.017-.796.487-.503-.169-.943-.296-.985-.233-.146.149.356 2.076.754 2.839.545 1.06 1.655 2.097 2.871 2.712l1.027.487-1.215.021c-1.173.0-1.215.021-1.089.467.419 1.377 2.074 2.839 3.918 3.475l1.299.444-1.131.678c-1.676.976-3.646 1.526-5.616 1.568C19.775 43.256 19 43.341 19 43.405c0 .211 2.557 1.397 4.044 1.864 4.463 1.377 9.765.783 13.746-1.568 2.829-1.673 5.657-5 6.978-8.221.713-1.716 1.425-4.851 1.425-6.354.0-.975.063-1.102 1.236-2.267.692-.678 1.341-1.419 1.467-1.631.21-.403.188-.403-.88-.043-1.781.636-2.033.551-1.152-.402.649-.678 1.425-1.907 1.425-2.267.0-.063-.314.042-.671.233-.377.212-1.215.53-1.844.72l-1.131.361-1.027-.7c-.566-.381-1.361-.805-1.781-.932C39.766 21.902 38.131 21.944 37.167 22.283zM33 64C16.432 64 3 50.569 3 34S16.432 4 33 4s30 13.431 30 30S49.568 64 33 64z" style="fill-rule:evenodd;clip-rule:evenodd;fill:"/></svg></a><a href="https://www.linkedin.com/shareArticle?mini=true&url=dingtalk.pub/dingtalk.pub/posts/2622524/&title=aria2c%20%e4%b8%8d%e9%99%90%e9%80%9f%e4%b8%8b%e8%bd%bd%e6%9c%8d%e5%8a%a1%e9%85%8d%e7%bd%ae%20RPC" class="linkedin no-underline" aria-label="share on LinkedIn"><svg height="32" style="enable-background:new 0 0 65 65" viewBox="0 0 65 65" width="32" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M50.837 48.137V36.425c0-6.275-3.35-9.195-7.816-9.195-3.604.0-5.219 1.983-6.119 3.374V27.71h-6.79c.09 1.917.0 20.427.0 20.427h6.79V36.729c0-.609.044-1.219.224-1.655.49-1.22 1.607-2.483 3.482-2.483 2.458.0 3.44 1.873 3.44 4.618v10.929H50.837zM22.959 24.922c2.367.0 3.842-1.57 3.842-3.531-.044-2.003-1.475-3.528-3.797-3.528s-3.841 1.524-3.841 3.528c0 1.961 1.474 3.531 3.753 3.531H22.959zM34 64C17.432 64 4 50.568 4 34 4 17.431 17.432 4 34 4s30 13.431 30 30c0 16.568-13.432 30-30 30zM26.354 48.137V27.71h-6.789v20.427h6.789z" style="fill-rule:evenodd;clip-rule:evenodd;fill:"/></svg></a></div><h1 class="f1 athelas mt3 mb1">aria2c 不限速下载服务配置 RPC</h1><time class="f6 mv4 dib tracked" datetime=2019-09-16T07:28:28Z>September 16, 2019</time></header><div class="nested-copy-line-height lh-copy serif f4 nested-links nested-img mid-gray pr4-l w-two-thirds-l"><p></p><h2 id=介绍>介绍</h2><p>aria2是一个轻量级的多协议和多源，跨平台下载实用程序，在命令行中运行。它支持HTTP / HTTPS，FTP，SFTP，BitTorrent和Metalink。https://aria2.github.io/</p><h2 id=安装和使用>安装和使用</h2><p></p><h3 id=安装>安装</h3><p>在epel源有打包好的包可以直接安装</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml> <span style=color:#ae81ff>yum install  aria2 -y</span>
</code></pre></div><p></p><h3 id=使用>使用</h3><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=color:#f92672>Download from WEB</span>:
<span style=color:#ae81ff>$ aria2c http://example.org/mylinux.iso</span>
<span style=color:#f92672>Download from 2 sources</span>:
<span style=color:#ae81ff>$ aria2c http://a/f.iso ftp://b/f.iso</span>
<span style=color:#f92672>Download using 2 connections per host</span>:
<span style=color:#ae81ff>$ aria2c -x2 http://a/f.iso</span>
<span style=color:#f92672>BitTorrent</span>:
<span style=color:#ae81ff>$ aria2c http://example.org/mylinux.torrent</span>
<span style=color:#f92672>BitTorrent Magnet URI</span>:
<span style=color:#ae81ff>$ aria2c &#39;magnet:?xt=urn:btih:248D0A1CD08284299DE78D5C1ED359BB46717D8C&#39;</span>
<span style=color:#f92672>Metalink</span>:
<span style=color:#ae81ff>$ aria2c http://example.org/mylinux.metalink</span>
<span style=color:#f92672>Download URIs found in text file</span>:
<span style=color:#ae81ff>$ aria2c -i uris.txt</span>
</code></pre></div><p></p><h2 id=rpc的用法>RPC的用法</h2><p>使用rpc的方式可以扩展该下载工具为专用下载工具，可以被其他的下载软件调用，如 <a href=http://pandownload.com/>pandownload</a>创建新的配置文件 vim ~/.aria2/aria2.conf </p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=color:#75715e>## &#39;#&#39;开头为注释内容, 选项都有相应的注释说明, 根据需要修改 ##</span>
<span style=color:#75715e>## 被注释的选项填写的是默认值, 建议在需要修改时再取消注释  ##</span>

<span style=color:#75715e>## 文件保存相关 ##</span>

<span style=color:#75715e># 文件的保存路径(可使用绝对路径或相对路径), 默认: 当前启动位置</span>
<span style=color:#ae81ff>dir=~/downloads</span>
<span style=color:#75715e># 启用磁盘缓存, 0为禁用缓存, 需1.16以上版本, 默认:16M</span>
<span style=color:#75715e>#disk-cache=32M</span>
<span style=color:#75715e># 文件预分配方式, 能有效降低磁盘碎片, 默认:prealloc</span>
<span style=color:#75715e># 预分配所需时间: none &lt; falloc ? trunc &lt; prealloc</span>
<span style=color:#75715e># falloc和trunc则需要文件系统和内核支持</span>
<span style=color:#75715e># NTFS建议使用falloc, EXT3/4建议trunc, MAC 下需要注释此项</span>
<span style=color:#75715e>#file-allocation=none</span>
<span style=color:#75715e># 断点续传</span>
<span style=color:#ae81ff>continue=true</span>

<span style=color:#75715e>## 下载连接相关 ##</span>

<span style=color:#75715e># 最大同时下载任务数, 运行时可修改, 默认:5</span>
<span style=color:#75715e>#max-concurrent-downloads=5</span>
<span style=color:#75715e># 同一服务器连接数, 添加时可指定, 默认:1</span>
<span style=color:#ae81ff>max-connection-per-server=16</span>
<span style=color:#75715e># 最小文件分片大小, 添加时可指定, 取值范围1M -1024M, 默认:20M</span>
<span style=color:#75715e># 假定size=10M, 文件为20MiB 则使用两个来源下载; 文件为15MiB 则使用一个来源下载</span>
<span style=color:#ae81ff>min-split-size=10M</span>
<span style=color:#75715e># 单个任务最大线程数, 添加时可指定, 默认:5</span>
<span style=color:#ae81ff>split=16</span>
<span style=color:#75715e># 整体下载速度限制, 运行时可修改, 默认:0</span>
<span style=color:#75715e>#max-overall-download-limit=0</span>
<span style=color:#75715e># 单个任务下载速度限制, 默认:0</span>
<span style=color:#75715e>#max-download-limit=0</span>
<span style=color:#75715e># 整体上传速度限制, 运行时可修改, 默认:0</span>
<span style=color:#75715e>#max-overall-upload-limit=0</span>
<span style=color:#75715e># 单个任务上传速度限制, 默认:0</span>
<span style=color:#75715e>#max-upload-limit=0</span>
<span style=color:#75715e># 禁用IPv6, 默认:false</span>
<span style=color:#75715e>#disable-ipv6=true</span>
<span style=color:#75715e># 连接超时时间, 默认:60</span>
<span style=color:#75715e>#timeout=60</span>
<span style=color:#75715e># 最大重试次数, 设置为0表示不限制重试次数, 默认:5</span>
<span style=color:#75715e>#max-tries=5</span>
<span style=color:#75715e># 设置重试等待的秒数, 默认:0</span>
<span style=color:#75715e>#retry-wait=0</span>

<span style=color:#75715e>## 进度保存相关 ##</span>

<span style=color:#75715e># 从会话文件中读取下载任务</span>
<span style=color:#ae81ff>input-file=/etc/aria2/aria2.session</span>
<span style=color:#75715e># 在Aria2退出时保存`错误/未完成`的下载任务到会话文件</span>
<span style=color:#ae81ff>save-session=/etc/aria2/aria2.session</span>
<span style=color:#75715e># 定时保存会话, 0为退出时才保存, 需1.16.1以上版本, 默认:0</span>
<span style=color:#75715e>#save-session-interval=60</span>

<span style=color:#75715e>## RPC相关设置 ##</span>

<span style=color:#75715e># 启用RPC, 默认:false</span>
<span style=color:#ae81ff>enable-rpc=true</span>
<span style=color:#75715e># 允许所有来源, 默认:false</span>
<span style=color:#ae81ff>rpc-allow-origin-all=true</span>
<span style=color:#75715e># 允许非外部访问, 默认:false</span>
<span style=color:#ae81ff>rpc-listen-all=true</span>
<span style=color:#75715e># 事件轮询方式, 取值:[epoll, kqueue, port, poll, select], 不同系统默认值不同</span>
<span style=color:#75715e>#event-poll=select</span>
<span style=color:#75715e># RPC监听端口, 端口被占用时可以修改, 默认:6800</span>
<span style=color:#75715e>#rpc-listen-port=6800</span>
<span style=color:#75715e># 设置的RPC授权令牌, v1.18.4新增功能, 取代 --rpc-user 和 --rpc-passwd 选项</span>
<span style=color:#75715e>#rpc-secret=&lt;TOKEN&gt;</span>
<span style=color:#75715e># 设置的RPC访问用户名, 此选项新版已废弃, 建议改用 --rpc-secret 选项</span>
<span style=color:#75715e>#rpc-user=&lt;USER&gt;</span>
<span style=color:#75715e># 设置的RPC访问密码, 此选项新版已废弃, 建议改用 --rpc-secret 选项</span>
<span style=color:#75715e>#rpc-passwd=&lt;PASSWD&gt;</span>
<span style=color:#75715e># 是否启用 RPC 服务的 SSL/TLS 加密,</span>
<span style=color:#75715e># 启用加密后 RPC 服务需要使用 https 或者 wss 协议连接</span>
<span style=color:#75715e>#rpc-secure=true</span>
<span style=color:#75715e># 在 RPC 服务中启用 SSL/TLS 加密时的证书文件,</span>
<span style=color:#75715e># 使用 PEM 格式时，您必须通过 --rpc-private-key 指定私钥</span>
<span style=color:#75715e>#rpc-certificate=/path/to/certificate.pem</span>
<span style=color:#75715e># 在 RPC 服务中启用 SSL/TLS 加密时的私钥文件</span>
<span style=color:#75715e>#rpc-private-key=/path/to/certificate.key</span>

<span style=color:#75715e>## BT/PT下载相关 ##</span>

<span style=color:#75715e># 当下载的是一个种子(以.torrent结尾)时, 自动开始BT任务, 默认:true</span>
<span style=color:#75715e>#follow-torrent=true</span>
<span style=color:#75715e># BT监听端口, 当端口被屏蔽时使用, 默认:6881-6999</span>
<span style=color:#ae81ff>listen-port=51413</span>
<span style=color:#75715e># 单个种子最大连接数, 默认:55</span>
<span style=color:#75715e>#bt-max-peers=55</span>
<span style=color:#75715e># 打开DHT功能, PT需要禁用, 默认:true</span>
<span style=color:#ae81ff>enable-dht=false</span>
<span style=color:#75715e># 打开IPv6 DHT功能, PT需要禁用</span>
<span style=color:#75715e>#enable-dht6=false</span>
<span style=color:#75715e># DHT网络监听端口, 默认:6881-6999</span>
<span style=color:#75715e>#dht-listen-port=6881-6999</span>
<span style=color:#75715e># 本地节点查找, PT需要禁用, 默认:false</span>
<span style=color:#75715e>#bt-enable-lpd=false</span>
<span style=color:#75715e># 种子交换, PT需要禁用, 默认:true</span>
<span style=color:#ae81ff>enable-peer-exchange=false</span>
<span style=color:#75715e># 每个种子限速, 对少种的PT很有用, 默认:50K</span>
<span style=color:#75715e>#bt-request-peer-speed-limit=50K</span>
<span style=color:#75715e># 客户端伪装, PT需要</span>
<span style=color:#ae81ff>peer-id-prefix=-TR2770-</span>
<span style=color:#ae81ff>user-agent=Transmission/2.77</span>
<span style=color:#75715e># 当种子的分享率达到这个数时, 自动停止做种, 0为一直做种, 默认:1.0</span>
<span style=color:#ae81ff>seed-ratio=0</span>
<span style=color:#75715e># 强制保存会话, 即使任务已经完成, 默认:false</span>
<span style=color:#75715e># 较新的版本开启后会在任务完成后依然保留.aria2文件</span>
<span style=color:#75715e>#force-save=false</span>
<span style=color:#75715e># BT校验相关, 默认:true</span>
<span style=color:#75715e>#bt-hash-check-seed=true</span>
<span style=color:#75715e># 继续之前的BT任务时, 无需再次校验, 默认:false</span>
<span style=color:#ae81ff>bt-seed-unverified=true</span>
<span style=color:#75715e># 保存磁力链接元数据为种子文件(.torrent文件), 默认:false</span>
<span style=color:#ae81ff>bt-save-metadata=true</span>
</code></pre></div><p>然后直接执行命令即可启动  </p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=color:#ae81ff>aria2c</span>
</code></pre></div><ul class=pa0></ul><div class="mt6 instapaper_ignoref"></div></div><aside class="w-30-l mt6-l"></aside></article></main><footer class="bg-black bottom-0 w-100 pa3" role=contentinfo><div class="flex justify-between"><a class="f4 fw4 hover-white no-underline white-70 dn dib-ns pv2 ph3" href=dingtalk.pub>&copy; snoopy 2021</a><div></div></div></footer></body></html>