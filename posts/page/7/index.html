<!doctype html><html lang=en-us><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge,chrome=1"><title>snoopy</title><meta name=viewport content="width=device-width,minimum-scale=1"><meta name=description content><meta name=generator content="Hugo 0.83.1"><meta name=ROBOTS content="NOINDEX, NOFOLLOW"><link rel=stylesheet href=/dingtalk.pub/ananke/dist/main.css_5c99d70a7725bacd4c701e995b969fea.css><link href=dingtalk.pub/posts/index.xml rel=alternate type=application/rss+xml title=snoopy><link href=dingtalk.pub/posts/index.xml rel=feed type=application/rss+xml title=snoopy><meta property="og:title" content="Posts"><meta property="og:description" content><meta property="og:type" content="website"><meta property="og:url" content="dingtalk.pub/posts/"><meta itemprop=name content="Posts"><meta itemprop=description content><meta name=twitter:card content="summary"><meta name=twitter:title content="Posts"><meta name=twitter:description content></head><body class="ma0 avenir bg-near-white"><header><div class="pb3-m pb6-l bg-black"><nav class="pv3 ph3 ph4-ns" role=navigation><div class="flex-l justify-between items-center center"><a href=dingtalk.pub/ class="f3 fw2 hover-white no-underline white-90 dib">snoopy</a><div class="flex-l items-center"></div></div></nav><div class="tc-l pv3 ph3 ph4-ns"><h1 class="f2 f-subheadline-l fw2 light-silver mb0 lh-title">Posts</h1></div></div></header><main class=pb7 role=main><article class="pa3 pa4-ns nested-copy-line-height nested-img"><section class="cf ph3 ph5-l pv3 pv4-l f4 tc-l center measure-wide lh-copy mid-gray"></section><section class="flex-ns flex-wrap justify-around mt5"><div class="relative w-100 w-30-l mb4 bg-white"><div class="relative w-100 mb4 bg-white nested-copy-line-height"><div class="bg-white mb3 pa4 gray overflow-hidden"><span class="f6 db">Posts</span><h1 class="f3 near-black"><a href=dingtalk.pub/posts/1483686/ class="link black dim">Valine出现Code 403 访问被api域名白名单拒绝，请检查你的安全域名设置</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">背景 前期把hexo的静态页面部署在GH,Valine所有功能正常，但是在部署到Netlif，在自定义的域名开启https之后，Valine出现报错 Code 403: 访问被api域名白名单拒绝，请检查你的安全域名设置 解决 在leancloud的应用>设置>安全中心>Web安全域名中只添加了新的自定义的域名即可解决该问题，</div></div></div></div><div class="relative w-100 w-30-l mb4 bg-white"><div class="relative w-100 mb4 bg-white nested-copy-line-height"><div class="bg-white mb3 pa4 gray overflow-hidden"><span class="f6 db">Posts</span><h1 class="f3 near-black"><a href=dingtalk.pub/posts/1480766/ class="link black dim">centos7安装shadowsocks客户端全局代理</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">前言  最近使用一个开源的项目，在安装依赖的时候，使用的是composer，使用国内的源的情况下，部分依赖，国内的镜像站没有，于是直接使用官方的源。开始之前，取消所有的设置的非官方源 composer config -g --unset repos.packagist 安装  高级加密算法支持  #下载 libsodium 最新版本 wget https://github.com/jedisct1/libsodium/releases/download/1.0.17/libsodium-1.0.17.tar.gz tar xzvf libsodium-1.0.17.tar.gz cd libsodium #编译并且安装 make -j8 && make install #添加运行库位置并加载运行库 echo /usr/local/lib > /etc/ld.so.conf.d/usr_local_lib.conf ldconfig ss客户端  安装最新的ss客户端 使用以下命令安装最新的客户端（不要仅仅简单的使用 pip install shadowsocks 来安装，因为不支持一些高级加密算法） pip install --upgrade pip pip install https://github.com/shadowsocks/shadowsocks/archive/master.zip -U 配置  vim /etc/shadowsocks.json ##以下配置根据自己的服务器信息填写 { "server":"x.x.x.x", #你的 ss 服务器 ip "server_port":0, #你的 ss 服务器端口 "local_address": "127.0.0.1", #本地ip "local_port":1080, #本地端口 "password":"password", #连接 ss 密码 "timeout":300, #等待超时 "method":"aes-256-cfb", #加密方式 "workers": 1 #工作线程数 } 启动 nohup sslocal -c /etc/shadowsocks.</div></div></div></div><div class="relative w-100 w-30-l mb4 bg-white"><div class="relative w-100 mb4 bg-white nested-copy-line-height"><div class="bg-white mb3 pa4 gray overflow-hidden"><span class="f6 db">Posts</span><h1 class="f3 near-black"><a href=dingtalk.pub/posts/1442397/ class="link black dim">CircleCI+GitHub+hexo 持续集成</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">背景 前期使用Travis做持续集成，Travis针对开源的项目是没有使用限制的，但是你休想使用一个私有项目区构建你的应用(更新：可以build私有项目，不过有个总限制，用完了，就真的没法了)，搜寻之下，暂时准备用CircleCI替代，补充Travis在私有项目中的个人用途。价格参考 &ndash; 单容器单job每月1000分钟build时间，不区分私有还是开源项目。一个hexo的build，每次大概只耗时1分钟。单次build时长限制60min(Travis是50min) 快速开始 这里，直接使用github账户登录。 然后授权要进行ci的repo. 在授权项目根目录新建CircleCI的文件夹 #注意不要少了 . mkdir .circleci vim .circleci/config.yml 示例配置如下：
version: 2 jobs: build: branches: only: - master docker: - image: circleci/node:10 #免费类型的，只能使用一个容器 steps: - checkout # checkout把gh的项目检出，详细参见：https://circleci.com/docs/2.0/configuration-reference/#checkout - run: command: |sed -i "s/GH_TOKEN/${GH_TOKEN}/g" ./_config.yml git config --global user.name $GH_USER git config --global user.email $GH_EMAIL sudo npm install hexo-generator-searchdb --save sudo npm install hexo-wordcount --save sudo npm install --save hexo-blog-encrypt sudo npm install -g hexo-cli sudo npm install hexo-deployer-git --save sudo npm i -g yuque-hexo sudo npm install sudo yuque-hexo sync sudo hexo clean sudo hexo generate sudo hexo deploy 以上做好之后，在gh这里有新的push的时候，CircleCI便会自动构建项目了，同时部署你的hexo网站 后面争取做到在语雀编辑好文章的时候触发自动build</div></div></div></div><div class="relative w-100 w-30-l mb4 bg-white"><div class="relative w-100 mb4 bg-white nested-copy-line-height"><div class="bg-white mb3 pa4 gray overflow-hidden"><span class="f6 db">Posts</span><h1 class="f3 near-black"><a href=dingtalk.pub/posts/1530018/ class="link black dim">无标题</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height"></div></div></div></div><div class="relative w-100 w-30-l mb4 bg-white"><div class="relative w-100 mb4 bg-white nested-copy-line-height"><div class="bg-white mb3 pa4 gray overflow-hidden"><span class="f6 db">Posts</span><h1 class="f3 near-black"><a href=dingtalk.pub/posts/2782554/ class="link black dim">无标题</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height"></div></div></div></div></section><ul class=pagination><li class=page-item><a href=dingtalk.pub/posts/ class=page-link aria-label=First><span aria-hidden=true>&#171;&#171;</span></a></li><li class=page-item><a href=dingtalk.pub/posts/page/6/ class=page-link aria-label=Previous><span aria-hidden=true>&#171;</span></a></li><li class=page-item><a class=page-link href=dingtalk.pub/posts/>1</a></li><li class=page-item><a class=page-link href=dingtalk.pub/posts/page/2/>2</a></li><li class=page-item><a class=page-link href=dingtalk.pub/posts/page/3/>3</a></li><li class="page-item disabled"><span aria-hidden=true>&nbsp;&mldr;&nbsp;</span></li><li class=page-item><a class=page-link href=dingtalk.pub/posts/page/6/>6</a></li><li class="page-item active"><a class=page-link href=dingtalk.pub/posts/page/7/>7</a></li><li class="page-item disabled"><a class=page-link aria-label=Next><span aria-hidden=true>&#187;</span></a></li><li class=page-item><a href=dingtalk.pub/posts/page/7/ class=page-link aria-label=Last><span aria-hidden=true>&#187;&#187;</span></a></li></ul></article></main><footer class="bg-black bottom-0 w-100 pa3" role=contentinfo><div class="flex justify-between"><a class="f4 fw4 hover-white no-underline white-70 dn dib-ns pv2 ph3" href=dingtalk.pub>&copy; snoopy 2021</a><div></div></div></footer></body></html>